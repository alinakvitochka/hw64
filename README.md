# Опис проекту

Цей проект є серверною системою, створеною на Node.js з використанням Express.js. Вона забезпечує функціональність для роботи з даними про тварин, включаючи їх відображення, додавання та перегляд деталей.

## Нова функціональність

### Маршрут для відображення даних
- **Маршрут:** `/animals`
- **Опис:** Відображає список усіх тварин, доступних у базі даних.
- **Деталі:**
  - Кожна тварина має такі атрибути: ім'я, вид (species) та вік (age).
  - Доступний детальний перегляд кожної тварини за маршрутом `/animals/:id`.



## Інструкції з встановлення

1. Клонуйте репозиторій:
   ```bash
   git clone <URL>
   ```

2. Перейдіть до директорії проекту:
   ```bash
   cd hw64
   ```

3. Встановіть залежності:
   ```bash
   npm install
   ```

4. Налаштуйте з'єднання з MongoDB Atlas:
   - Створіть кластер у [MongoDB Atlas](https://www.mongodb.com/cloud/atlas).
   - Отримайте URI для підключення до вашого кластера.
   - Замініть значення `mongoURI` у файлі `server.js` на ваш URI.

5. Запустіть сервер:
   ```bash
   node server.js
   ```

6. Відкрийте браузер і перейдіть за адресою `http://localhost:3000`.

## Налаштування з'єднання з MongoDB Atlas

1. Увійдіть у свій обліковий запис MongoDB Atlas.
2. Створіть новий кластер або використовуйте існуючий.
3. Перейдіть до розділу "Database Access" і створіть нового користувача з правами доступу.
4. У розділі "Network Access" додайте IP-адресу, з якої буде здійснюватися підключення.
5. Скопіюйте URI підключення з розділу "Connect" і вставте його у файл `server.js` у змінну `mongoURI`.

## Залежності
- `express`: Веб-фреймворк для Node.js.
- `mongoose`: Бібліотека для роботи з MongoDB.
- `pug`: Шаблонізатор для створення HTML-сторінок.
- `bcryptjs`: Для хешування паролів.
- `passport`: Middleware для автентифікації.
- `express-session`: Для управління сесіями.

## Структура проекту
- `models/Animal.js`: Модель для роботи з даними про тварин.
- `views/`: Шаблони для відображення сторінок.
- `public/css/styles.css`: Стилі для фронтенду.
- `server.js`: Основний файл сервера.

## Маршрути

### `GET /`
- Опис: Головна сторінка з посиланнями на вхід та реєстрацію.

### `GET /register`
- Опис: Відображає форму реєстрації.

### `POST /register`
- Опис: Обробляє реєстрацію користувачів.
- Параметри тіла:
  - `email`: Email користувача.
  - `password`: Пароль користувача.

### `GET /login`
- Опис: Відображає форму входу.

### `POST /login`
- Опис: Обробляє вхід користувачів.
- Параметри тіла:
  - `email`: Email користувача.
  - `password`: Пароль користувача.

### `GET /logout`
- Опис: Вихід користувача та перенаправлення на головну сторінку.

### `GET /animals`
- Опис: Відображає список всіх тварин.
- Доступ: Доступний лише автентифікованим користувачам.

### `GET /animals/:id`
- Опис: Відображає деталі конкретної тварини.
- Доступ: Доступний лише автентифікованим користувачам.
- Параметри URL:
  - `id`: Унікальний ідентифікатор тварини.

### `POST /animals/:id/edit`
- Опис: Оновлює інформацію про конкретну тварину.
- Параметри тіла:
  - `name`: Нове ім'я тварини.
  - `species`: Новий вид тварини.

### `POST /animals/:id/replace`
- Опис: Замінює інформацію про конкретну тварину.
- Параметри тіла:
  - `name`: Ім'я нової тварини.
  - `species`: Вид нової тварини.
  - `age`: Вік нової тварини.

### `GET /animals/:id/replace`
- Опис: Відображає форму для заміни інформації про конкретну тварину.

### `GET /animals-search`
- Опис: Шукає тварин за ім'ям.
- Параметри запиту:
  - `name`: Ім'я для пошуку.

### `GET /animals-update-cats-to-dogs`
- Опис: Оновлює вид усіх тварин "cat" на "dog".

### POST /animals
- **Опис:** Додає нову тварину до бази даних.
- **Параметри тіла:**
  - `name`: Ім'я тварини (обов'язкове).
  - `species`: Вид тварини (обов'язкове).
  - `age`: Вік тварини (необов'язкове).

### POST /animals/delete
- **Опис:** Видаляє одну тварину за її ідентифікатором.
- **Параметри тіла:**
  - `id`: Унікальний ідентифікатор тварини, яку потрібно видалити.

### POST /animals/deleteMany
- **Опис:** Видаляє декілька тварин за їх ідентифікаторами.
- **Параметри тіла:**
  - `animalIds`: Список ідентифікаторів тварин, розділених комами, які потрібно видалити.

  ### insertMany Створення поросят 
- **Маршрут:** `/animals/create-piglets`
- **Опис:** Додає трьох поросят з казки до бази даних.
- **Деталі:**
  - Імена поросят: Ніф-Ніф, Нуф-Нуф, Наф-Наф.
  - Вид: свиня.
  - Вік: 1 рік.
